<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Login Page</title>
    <meta name="description" content="The HTML5 Herald">
    <meta name="author" content="Login">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/style.css">

</head>

<body>
    <div class="container">
        <div class="navbar_color">
            <div class="row ">
                <nav class="navbar">
                    <div class="container-fluid">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="index.html">Comic Royale</a>
                        </div>
                        <ul class="nav navbar-nav navbar-left">
                            <li class="active">
                                <a href="index.html">Home</a>
                            </li>
                            <li>
                                <a href="about.html">About</a>
                            </li>
                            <li>
                                <a href="gallery.html">Gallery</a>
                            </li>
                            <li>
                                <a href="shop.html">Shop</a>
                            </li>
                            <li>
                                <a href="sponsors.html">Sponsors</a>
                            </li>
                            <li>
                                <a href="contact.html">Contact Us</a>
                            </li>
                            <li id='searchbar'>
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Search for...">
                                    <span class="input-group-btn">
                                        <button class="btn btn-default" type="button">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </button>
                                    </span>
                                </div>
                            </li>
                            <li class="navbar-right">
                                <a href="shop.html">
                                    <span class="glyphicon glyphicon-shopping-cart"></span> Shop
                                </a>
                            </li>
                            <li class="navbar-right">
                                <a href="login.html">
                                    <span class="glyphicon glyphicon-user"></span> Sign Up</a>
                            </li>
                            <li class="navbar-right">
                                <a href="login.html">
                                    <span class="glyphicon glyphicon-log-in"></span> Login</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
        <!-- Registration and Login -->
        <div class="container register">
            <div class="row">
                <div class="col-md-6 col-md-offset-3">
                    <div class="panel panel-login">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-6">
                                    <a href="#" class="active" id="login-form-link">Login</a>
                                </div>
                                <div class="col-xs-6">
                                    <a href="#" id="register-form-link">Register</a>
                                </div>
                            </div>
                            <hr>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-12">
                                    <form id="login-form" action="#" method="post" role="form" style="display: block;">
                                        <div class="form-group">
                                            <input type="text" name="username" id="username" tabindex="1" class="form-control" placeholder="Username" value="">
                                        </div>
                                        <div class="alert alert-danger" hidden id="login_username_isempty">Username can't not be empty</div>
                                        <div class="form-group">
                                            <input type="password" name="password" id="password" tabindex="2" class="form-control" placeholder="Password">
                                        </div>
                                        <div class="alert alert-danger" hidden id="login_password_isempty">Password can't not be empty</div>
                                        <div class="form-group text-center">
                                            <input type="checkbox" tabindex="3" class="" name="remember" id="remember">
                                            <label for="remember"> Remember Me</label>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-sm-6 col-sm-offset-3">
                                                    <input type="submit" name="login-submit" id="login-submit" tabindex="4" class="form-control btn btn-login" value="Log In">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="text-center">
                                                        <a href="http://phpoll.com/recover" tabindex="5" class="forgot-password">Forgot Password?</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <form id="register-form" action="#" method="post" role="form" style="display: none;">
                                        <div class="form-group">
                                            <input type="text" name="username" id="register_username" tabindex="1" class="form-control" placeholder="Username" value="">
                                        </div>
                                        <div class="alert alert-danger" hidden id="username_isempty">Please enter username</div>
                                        <div class="form-group">
                                            <input type="email" name="email" id="register_email" tabindex="1" class="form-control" placeholder="Email Address" value="">
                                        </div>
                                        <div class="alert alert-danger" hidden id="email_validation">Invalid Email</div>
                                        <div class="alert alert-danger" hidden id="email_isempty">Please enter email</div>
                                        <div class="form-group">
                                            <input type="password" name="password" id="register_password" tabindex="2" class="form-control" placeholder="Password">
                                        </div>
                                        <div class="alert alert-danger" hidden id="password_isempty">Please enter password</div>
                                        <div class="form-group">
                                            <input type="password" name="confirm-password" id="register_confirm-password" tabindex="2" class="form-control" placeholder="Confirm Password">
                                        </div>
                                        <div class="alert alert-danger" hidden id="password_confirm_isempty">Please enter password again</div>
                                        <div class="alert alert-danger" hidden id="password_validation">passwords don't match</div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-sm-6 col-sm-offset-3">
                                                    <input type="submit" name="register-submit" id="register-submit" tabindex="4" class="form-control btn btn-register" value="Register Now">
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer -->

        <!----------- Footer ------------>
        <footer class="footer-bs">
            <div class="row">
                <div class="col-md-3 footer-brand animated fadeInLeft">
                    <image src="../images/logo.jpg" style="width: 99px; height: 99px" />
                    <p>Comic Royal Inc, All rights reserved</p>
                </div>
                <div class="col-md-4 footer-nav animated fadeInUp">
                    <h4>Genre â€”</h4>
                    <div class="col-md-6">
                        <ul class="pages">
                            <li>
                                <a href="#">Action</a>
                            </li>
                            <li>
                                <a href="#">Comedy</a>
                            </li>
                            <li>
                                <a href="#">Drama</a>
                            </li>
                            <li>
                                <a href="#">Sci-Fi</a>
                            </li>
                            <li>
                                <a href="#">Horror</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="list">
                            <li>
                                <a href="about.html">About Us</a>
                            </li>
                            <li>
                                <a href="contact.html">Contacts</a>
                            </li>
                            <li>
                                <a href="contact.html">Terms & Condition</a>
                            </li>
                            <li>
                                <a href="sponsors.html">Privacy Policy</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-2 footer-social animated fadeInDown">
                    <h4>Follow Us</h4>
                    <ul>
                        <li>
                            <a href="#">Facebook</a>
                        </li>
                        <li>
                            <a href="#">Twitter</a>
                        </li>
                        <li>
                            <a href="#">Instagram</a>
                        </li>
                        <li>
                            <a href="#">RSS</a>
                        </li>
                    </ul>
                </div>
                <div class="col-md-3 footer-ns animated fadeInRight">
                    <h4>Newsletter</h4>
                    <p>Subscribe for the latest news!</p>
                    <form action="" method="post">
                        <div class="input-prepend">
                            <span class="add-on">
                                <i class="icon-envelope"></i>
                            </span>
                            <input type="text" id="" name="" placeholder="your@email.com">
                        </div>
                        <br />
                        <input type="submit" value="Subscribe Now!" class="btn btn-default" />
                    </form>
                    <!-- /input-group -->
                </div>
            </div>
        </footer>


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script src="./js/main.js"></script>
        <script>
            // $('#register_username').on('change keyup paste', () => {
            //     console.log(`Value: ${$('#register_username').val()}`)
            // })
            $('#register-form').on('submit', function (e) {
                e.preventDefault();
                //Retrive uses inputs
                let username = $('#register_username').val();
                let email = $('#register_email').val();
                let password = $('#register_password').val();
                let confirm_password = $('#register_confirm-password').val();
                // console.log(`Username: ${username}\nEmail: ${email}\nPassword: ${password}\nConfirm password: ${confirm_password}`)
                if (username === "") {
                    $('#username_isempty').show()
                } else {
                    $('#username_isempty').hide()
                }
                if (email === "") {
                    $('#email_isempty').show()
                } else {
                    $('#email_isempty').hide()
                }
                if (password === "") {
                    $('#password_isempty').show();
                } else {
                    $('#password_isempty').hide();
                }
                if (confirm_password === "") {
                    $('#password_confirm_isempty').show();
                } else {
                    $('#password_confirm_isempty').hide();
                }
                if (email !== "") {  // If something was entered
                    if (!isValidEmailAddress(email)) {
                        $('#email_validation').show(); //error message
                        $("#email").focus();   //focus on email field
                    } else {
                        $('#email_validation').hide();
                    }
                }
                if (password !== confirm_password) {
                    $('#password_validation').show()
                } else {
                    $('#password_validation').hide()

                }
                if (
                    !$('#password_validation').is(":visible") &&
                    !$('#email_validation').is(":visible") &&
                    !$('#password_confirm_isempty').is(":visible") &&
                    !$('#password_isempty').is(":visible") &&
                    !$('#email_isempty').is(":visible") &&
                    !$('#username_isempty').is(":visible")
                ) {
                    window.location.href = 'index.html';
                }

            })

            function isValidEmailAddress(emailAddress) {
                var pattern = new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i);
                return pattern.test(emailAddress);
            };

            $('#login-form').on('submit', (e) => {
                e.preventDefault()
                let username = $('#username').val();
                let password = $('input#password').val();
                console.log(`Username: ${username}\nPassword: ${password}`)
                if (username === '') {
                    $('#login_username_isempty').show()
                } else {
                    $('#login_username_isempty').hide()
                }
                if (password === '') {
                    $('#login_password_isempty').show()
                } else {
                    $('#login_password_isempty').hide()
                }
                // console.log('test', $('#login_username_isempty').is(":visible"))
                if (!$('#login_username_isempty').is(":visible") && !$('#login_password_isempty').is(":visible")) {
                    window.location.href = 'index.html';
                }
            })
        </script>
</body>

</html>